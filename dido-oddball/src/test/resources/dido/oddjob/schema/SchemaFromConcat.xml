<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<oddjob>
    <job>
        <sequential>
            <jobs>
                <variables id="vars">
                    <schema>
                        <dido:schema-from xmlns:dido="oddjob:dido">
                            <from>
                                <dido:schema>
                                    <of>
                                        <dido:field name="Fruit" type="java.lang.String"/>
                                        <dido:field name="Qty" type="int"/>
                                        <dido:field name="Price" type="double"/>
                                    </of>
                                </dido:schema>
                            </from>
                            <concat>
                                <dido:schema>
                                    <of>
                                        <dido:field name="Qty" type="double"/>
                                        <dido:field name="Colour" type="java.lang.String"/>
                                    </of>
                                </dido:schema>
                            </concat>
                        </dido:schema-from>
                    </schema>
                    <expected>
                        <dido:schema xmlns:dido="oddjob:dido">
                            <of>
                                <dido:field name="Fruit" type="java.lang.String"/>
                                <dido:field name="Qty" type="int"/>
                                <dido:field name="Price" type="double"/>
                                <dido:field name="Qty_" type="double"/>
                                <dido:field name="Colour" type="java.lang.String"/>
                            </of>
                        </dido:schema>
                    </expected>
                </variables>
                <script resultForState="true">
                    <beans>
                        <value key="actual" value="${vars.schema}"/>
                        <value key="expected" value="${vars.expected}"/>
                    </beans><![CDATA[expected.equals(actual) ? 0 : 1
]]></script>
            </jobs>
        </sequential>
    </job>
</oddjob>
